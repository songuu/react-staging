import e from"fs-extra";import n from"node:path";import{fileURLToPath as o}from"node:url";import*as t from"@clack/prompts";import{grey as c,red as a,bold as i,cyan as r,blue as s}from"kleur/colors";import l from"minimist";const p={sort:0,name:"English",hnay:"Has not adapted yet",pn:"Please enter the project name",pncbne:"Project name cannot be empty",pane:"Project name already exists",psat:"Please select a template",oc:"Operation cancelled",pca:"Please choose again",cfsing:"Creating file...",pcsucc:"Project created successfully",tgs:"To get started:",pcyt_vt:"Tip: Please configure your color system in the tailwind.config.js file",pcyt_vu:"Tip: Please configure your color system in the uno.config.js file",cferror:"Failed to create file",pectn:"Please enter the correct template name!"};var u=Object.freeze({__proto__:null,de_DE:{sort:8,name:"Deutsch",hnay:"Noch nicht angepasst",pn:"Bitte geben Sie den Projektnamen ein",pncbne:"Projektname darf nicht leer sein",pane:"Projektname existiert bereits",psat:"Bitte wÃ¤hlen Sie eine Vorlage aus",oc:"Vorgang abgebrochen",pca:"Bitte wÃ¤hlen Sie erneut",cfsing:"Erstelle Datei...",pcsucc:"Projekt erfolgreich erstellt",tgs:"Um zu beginnen:",pcyt_vt:"Tipp: Bitte konfigurieren Sie Ihr Farbsystem in der Datei tailwind.config.js",pcyt_vu:"Tipp: Bitte konfigurieren Sie Ihr Farbsystem in der Datei uno.config.js",cferror:"Fehler beim Erstellen der Datei",pectn:"Bitte geben Sie den richtigen Vorlagennamen ein!"},en_US:p,es_ES:{sort:5,name:"EspaÃ±ol",hnay:"AÃºn no se ha adaptado",pn:"Por favor ingrese el nombre del proyecto",pncbne:"El nombre del proyecto no puede estar vacÃ­o",pane:"El nombre del proyecto ya existe",psat:"Por favor seleccione una plantilla",oc:"OperaciÃ³n cancelada",pca:"Por favor, elija de nuevo",cfsing:"Creando archivo...",pcsucc:"Proyecto creado con Ã©xito",tgs:"Para empezar:",pcyt_vt:"Consejo: configure su sistema de colores en el archivo tailwind.config.js",pcyt_vu:"Consejo: configure su sistema de colores en el archivo uno.config.js",cferror:"Error al crear archivo",pectn:"Â¡Por favor ingrese el nombre de la plantilla correcto!"},fr_FR:{sort:7,name:"FranÃ§ais",hnay:"N'a pas encore adaptÃ©",pn:"Veuillez saisir le nom du projet",pncbne:"Le nom du projet ne peut pas Ãªtre vide",pane:"Le nom du projet existe dÃ©jÃ ",psat:"Veuillez sÃ©lectionner un modÃ¨le",oc:"OpÃ©ration annulÃ©e",pca:"Veuillez choisir Ã  nouveau",cfsing:"CrÃ©ation de fichier...",pcsucc:"Projet crÃ©Ã© avec succÃ¨s",tgs:"Pour commencer:",pcyt_vt:"Conseil: veuillez configurer votre systÃ¨me de couleurs dans le fichier tailwind.config.js",pcyt_vu:"Conseil: veuillez configurer votre systÃ¨me de couleurs dans le fichier uno.config.js",cferror:"Ã‰chec de la crÃ©ation du fichier",pectn:"Veuillez saisir le nom du modÃ¨le correct!"},it_IT:{sort:9,name:"Italiano",hnay:"Non ancora adattato",pn:"Inserisci il nome del progetto",pncbne:"Il nome del progetto non puÃ² essere vuoto",pane:"Il nome del progetto esiste giÃ ",psat:"Seleziona un modello",oc:"Operazione annullata",pca:"Seleziona di nuovo",cfsing:"Creazione del file in corso...",pcsucc:"Progetto creato con successo",tgs:"Per iniziare:",pcyt_vt:"Suggerimento: configura il tuo sistema di colori nel file tailwind.config.js",pcyt_vu:"Suggerimento: configura il tuo sistema di colori nel file uno.config.js",cferror:"Impossibile creare il file",pectn:"Inserisci il nome del modello corretto!"},ja_JP:{sort:3,name:"æ—¥æœ¬èªž",hnay:"ã¾ã é©å¿œã•ã‚Œã¦ã„ã¾ã›ã‚“",pn:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",pncbne:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¯ç©ºã«ã§ãã¾ã›ã‚“",pane:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™",psat:"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠžã—ã¦ãã ã•ã„",oc:"æ“ä½œãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã—ãŸ",pca:"ã‚‚ã†ä¸€åº¦é¸æŠžã—ã¦ãã ã•ã„",cfsing:"ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã„ã¾ã™...",pcsucc:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸ",tgs:"é–‹å§‹ï¼š",pcyt_vt:"ãƒ’ãƒ³ãƒˆï¼štailwind.config.js ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚«ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹æˆã—ã¦ãã ã•ã„",pcyt_vu:"ãƒ’ãƒ³ãƒˆï¼šuno.config.js ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚«ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹æˆã—ã¦ãã ã•ã„",cferror:"ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ",pectn:"æ­£ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼"},ko_KR:{sort:4,name:"í•œêµ­ì–´",hnay:"ì•„ì§ ì ì‘í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤",pn:"í”„ë¡œì íŠ¸ ì´ë¦„ì„ ìž…ë ¥í•˜ì‹­ì‹œì˜¤",pncbne:"í”„ë¡œì íŠ¸ ì´ë¦„ì€ ë¹„ì›Œ ë‘˜ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",pane:"í”„ë¡œì íŠ¸ ì´ë¦„ì´ ì´ë¯¸ ìžˆìŠµë‹ˆë‹¤",psat:"í…œí”Œë¦¿ì„ ì„ íƒí•˜ì‹­ì‹œì˜¤",oc:"ìž‘ì—…ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤",pca:"ë‹¤ì‹œ ì„ íƒí•˜ì‹­ì‹œì˜¤",cfsing:"íŒŒì¼ì„ ë§Œë“œëŠ” ì¤‘ìž…ë‹ˆë‹¤...",pcsucc:"í”„ë¡œì íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤",tgs:"ì‹œìž‘ï¼š",pcyt_vt:"íŒï¼štailwind.config.js íŒŒì¼ì—ì„œ ìƒ‰ìƒ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ì‹­ì‹œì˜¤",pcyt_vu:"íŒï¼šuno.config.js íŒŒì¼ì—ì„œ ìƒ‰ìƒ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ì‹­ì‹œì˜¤",cferror:"íŒŒì¼ ìƒì„± ì‹¤íŒ¨",pectn:"ì˜¬ë°”ë¥¸ í…œí”Œë¦¿ ì´ë¦„ì„ ìž…ë ¥í•˜ì‹­ì‹œì˜¤!"},ru_RU:{sort:6,name:"Ð ÑƒÑÑÐºÐ¸Ð¹",hnay:"Ð•Ñ‰Ðµ Ð½Ðµ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾",pn:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°",pncbne:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ñ‹Ð¼",pane:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚",psat:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑˆÐ°Ð±Ð»Ð¾Ð½",oc:"ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð°",pca:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°",cfsing:"Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð°...",pcsucc:"ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½",tgs:"Ð§Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ:",pcyt_vt:"Ð¡Ð¾Ð²ÐµÑ‚: Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ ÑÐ²Ð¾ÑŽ Ñ†Ð²ÐµÑ‚Ð¾Ð²ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð² Ñ„Ð°Ð¹Ð»Ðµ tailwind.config.js",pcyt_vu:"Ð¡Ð¾Ð²ÐµÑ‚: Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ ÑÐ²Ð¾ÑŽ Ñ†Ð²ÐµÑ‚Ð¾Ð²ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð² Ñ„Ð°Ð¹Ð»Ðµ uno.config.js",cferror:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»",pectn:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¸Ð¼Ñ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°!"},zh_CN:{sort:1,name:"ç®€ä½“ä¸­æ–‡",hnay:"æš‚æœªé€‚é…",pn:"è¯·è¾“å…¥é¡¹ç›®åç§°",pncbne:"é¡¹ç›®åç§°ä¸èƒ½ä¸ºç©º",pane:"é¡¹ç›®åç§°å·²å­˜åœ¨",psat:"è¯·é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿",oc:"æ“ä½œå·²å–æ¶ˆ",pca:"è¯·é‡æ–°é€‰æ‹©",cfsing:"æ­£åœ¨åˆ›å»ºæ–‡ä»¶...",pcsucc:"é¡¹ç›®åˆ›å»ºæˆåŠŸ",tgs:"å¼€å§‹ï¼š",pcyt_vt:"æç¤ºï¼šè¯·åˆ° tailwind.config.js æ–‡ä»¶å†…é…ç½®ä½ çš„é¢œè‰²ç³»ç»Ÿ",pcyt_vu:"æç¤ºï¼šè¯·åˆ° uno.config.js æ–‡ä»¶å†…é…ç½®ä½ çš„é¢œè‰²ç³»ç»Ÿ",cferror:"åˆ›å»ºæ–‡ä»¶å¤±è´¥",pectn:"è¯·è¾“å…¥æ­£ç¡®çš„æ¨¡æ¿åç§°ï¼"},zh_TW:{sort:2,name:"ç¹é«”ä¸­æ–‡",hnay:"æš«æœªé©é…",pn:"è«‹è¼¸å…¥é …ç›®åç¨±",pncbne:"é …ç›®åç¨±ä¸èƒ½ç‚ºç©º",pane:"é …ç›®åç¨±å·²å­˜åœ¨",psat:"è«‹é¸æ“‡ä¸€å€‹æ¨¡æ¿",oc:"æ“ä½œå·²å–æ¶ˆ",pca:"è«‹é‡æ–°é¸æ“‡",cfsing:"æ­£åœ¨å‰µå»ºæ–‡ä»¶...",pcsucc:"é …ç›®å‰µå»ºæˆåŠŸ",tgs:"é–‹å§‹ï¼š",pcyt_vt:"æç¤ºï¼šè«‹åˆ° tailwind.config.js æ–‡ä»¶å…§é…ç½®ä½ çš„é¡è‰²ç³»çµ±",pcyt_vu:"æç¤ºï¼šè«‹åˆ° uno.config.js æ–‡ä»¶å…§é…ç½®ä½ çš„é¡è‰²ç³»çµ±",cferror:"å‰µå»ºæ–‡ä»¶å¤±æ•—",pectn:"è«‹è¼¸å…¥æ­£ç¢ºçš„æ¨¡æ¿åç¨±ï¼"}});const{version:g}=JSON.parse(e.readFileSync(new URL("../package.json",import.meta.url),"utf-8"));console.log(`\n${c(`create-staging@${g}\n`)}`);const f=t.spinner();t.intro("Welcome to use staging!");let m=p;const d=[];for(const e in u)d.push({value:e,label:u[e].name,sort:u[e].sort});d.sort(((e,n)=>e.sort-n.sort));const y=l(process.argv.slice(2)),v=y._[0],h=y.template||y.t,j=y.language||y.l;m=j&&d.find((e=>e.value===j))?u[j]:p;const _=[{value:"vtr",label:"React + Vite + Tailwind",template:"react-vite-tailwind",finish:!0}];if(v&&!h)b(v,_[0]);else if(v&&h){const e=_.find((e=>e.value===h));e?e.finish?b(v,e):t.intro(a(e.label+" "+m.hnay)):t.intro(a(m.pectn))}else(async()=>{const n=await t.select({message:i("Please select your preferred language"),options:d});t.isCancel(n)&&(t.cancel(a("â›” ")+m.oc),process.exit(0)),m=u[n];let o=await t.select({message:i(m.psat),options:_});for(t.isCancel(o)&&(t.cancel(a("â›” ")+m.oc),process.exit(0));!_.find((e=>e.value===o))?.finish;)t.isCancel(o)&&(t.cancel(a("â›” ")+m.oc),process.exit(0)),t.intro(a(_.find((e=>e.value===o)).label+" "+m.hnay+" "+m.pca)),o=await t.select({message:i(m.psat),options:_});const c=await t.text({message:i(m.pn),placeholder:"staging-project",validate:n=>n?e.existsSync(n)?m.pane:void 0:m.pncbne});t.isCancel(c)&&(t.cancel(a("â›” ")+m.oc),process.exit(0)),_.forEach((async e=>{e.value===o&&b(c,e)}))})();function b(c,l){"number"==typeof c&&(c=c.toString());const p=n.join(n.resolve(),c);f.start("ðŸš€ "+m.cfsing),e.mkdirSync(p);const u=n.resolve(o(import.meta.url),"../..",`templates/${l.template}`);e.copy(u,p).then((()=>{f.stop(),t.outro(`${c} - ${m.pcsucc} ðŸŽ‰`);const n=JSON.parse(e.readFileSync(`${p}/package.json`,"utf-8"));n.name=c,e.writeFileSync(`${p}/package.json`,JSON.stringify(n,null,4),"utf-8");const o={vite:n.devDependencies.vite.replace("^",""),react:n.dependencies.react.replace("^",""),tailwindcss:n.devDependencies.tailwindcss.replace("^","")};let a="";for(const e in o)a+=i(e)+": "+r(o[e])+" ";console.log(`ðŸ“¦ ${a}\n                `),console.log(`ðŸ‘‰ ${i(m.tgs)}\n\n    ${s(`cd ${c}`)}\n    ${s("pnpm i / npm i / yarn")}\n    ${s("npm run dev")}\n    `)})).catch((e=>{f.stop(),console.error(a(m.cferror+"--"+e))}))}
